/*! @svgdotjs/svg.panzoom.js v2.1.1 MIT*/;
!function(N){"use strict";function V(t){return t.touches||[{clientX:t.clientX,clientY:t.clientY}]}N.extend(N.Svg,{panZoom:function(t){var n,e,o,i,a,h,s,l,c,u,m,r=this;if(this.off(".panZoom"),!1===t)return this;function p(t){if(!g)return t;var n=g.top,e=g.left,o=g.bottom,i=g.right,a=r.width()/t.width,h=r.attr(["width","height"]),s=h.width,l=h.height,c=s-e/a,u=(i-s)/a,m=l-n/a,p=(o-l)/a;return t.x=Math.min(c,Math.max(u,t.x)),t.y=Math.min(m,Math.max(p,t.y)),t}function f(t){(d=V(t)).length<2?X&&y&&A.call(this,t):(X&&y&&B.call(this,t),t.preventDefault(),this.dispatch("pinchZoomStart",{event:t}).defaultPrevented||(this.off("touchstart.panZoom",f),P=!0,N.on(document,"touchmove.panZoom",E,this,{passive:!1}),N.on(document,"touchend.panZoom",S,this,{passive:!1})))}var v,d,x=null!=(n=(t=null!=t?t:{}).zoomFactor)?n:2,w=null!=(e=t.zoomMin)?e:Number.MIN_VALUE,Z=null!=(o=t.zoomMax)?o:Number.MAX_VALUE,M=null==(i=t.wheelZoom)||i,Y=null==(a=t.pinchZoom)||a,X=null==(h=t.panning)||h,b=null!=(s=t.panButton)?s:0,y=null!=(l=t.oneFingerPan)&&l,g=null!=(c=t.margins)&&c,D=null!=(u=t.wheelZoomDeltaModeLinePixels)?u:17,z=null!=(m=t.wheelZoomDeltaModeScreenPixels)?m:53,P=!1,S=function t(n){n.preventDefault();var e=V(n);1<e.length||(P=!1,this.dispatch("pinchZoomEnd",{event:n}),N.off(document,"touchmove.panZoom",E),N.off(document,"touchend.panZoom",t),this.on("touchstart.panZoom",f),e.length&&X&&y&&A.call(this,n))},E=function(t){t.preventDefault();var n=V(t),e=this.zoom(),o=Math.sqrt(Math.pow(d[0].clientX-d[1].clientX,2)+Math.pow(d[0].clientY-d[1].clientY,2))/Math.sqrt(Math.pow(n[0].clientX-n[1].clientX,2)+Math.pow(n[0].clientY-n[1].clientY,2));(e<w&&1<o||Z<e&&o<1)&&(o=1);var i={x:n[0].clientX+.5*(n[1].clientX-n[0].clientX),y:n[0].clientY+.5*(n[1].clientY-n[0].clientY)},a=d[0].clientX+.5*(d[1].clientX-d[0].clientX),h=d[0].clientY+.5*(d[1].clientY-d[0].clientY),s=this.point(i.x,i.y),l=this.point(2*i.x-a,2*i.y-h),c=new N.Box(this.viewbox()).transform((new N.Matrix).translate(-l.x,-l.y).scale(o,0,0).translate(s.x,s.y));p(c),this.viewbox(c),d=n,this.dispatch("zoom",{box:c,focus:l})},A=function t(n){-1<n.type.indexOf("mouse")&&n.button!==b&&n.which!==b+1||(n.preventDefault(),this.off("mousedown.panZoom",t),d=V(n),P||(this.dispatch("panStart",{event:n}),v={x:d[0].clientX,y:d[0].clientY},N.on(document,"touchmove.panZoom mousemove.panZoom",L,this,{passive:!1}),N.on(document,"touchend.panZoom mouseup.panZoom",B,this,{passive:!1})))},B=function t(n){n.preventDefault(),N.off(document,"touchmove.panZoom mousemove.panZoom",L),N.off(document,"touchend.panZoom mouseup.panZoom",t),this.on("mousedown.panZoom",A),this.dispatch("panEnd",{event:n})},L=function(t){t.preventDefault();var n=V(t),e={x:n[0].clientX,y:n[0].clientY},o=this.point(e.x,e.y),i=this.point(v.x,v.y),a=[i.x-o.x,i.y-o.y];if(a[0]||a[1]){var h=new N.Box(this.viewbox()).transform((new N.Matrix).translate(a[0],a[1]));v=e,p(h),this.dispatch("panning",{box:h,event:t}).defaultPrevented||this.viewbox(h)}};return M&&this.on("wheel.panZoom",function(t){var n;switch(t.preventDefault(),t.deltaMode){case 1:n=t.deltaY*D;break;case 2:n=t.deltaY*z;break;default:n=t.deltaY}var e=Math.pow(1+x,-1*n/100)*this.zoom(),o=this.point(t.clientX,t.clientY);if(Z<e&&(e=Z),e<w&&(e=w),this.dispatch("zoom",{level:e,focus:o}).defaultPrevented)return this;if(this.zoom(e,o),g){var i=p(this.viewbox());this.viewbox(i)}},this,{passive:!1}),Y&&this.on("touchstart.panZoom",f,this,{passive:!1}),X&&this.on("mousedown.panZoom",A,this,{passive:!1}),this}})}(SVG);
//# sourceMappingURL=svg.panzoom.min.js.map
