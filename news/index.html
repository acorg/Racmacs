<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • Racmacs</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><meta property="og:image" content="https://acorg.github.io/Racmacs/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Racmacs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.27</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/acorg/Racmacs/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/acorg/Racmacs/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.11" id="racmacs-1111">Racmacs 1.1.11<a class="anchor" aria-label="anchor" href="#racmacs-1111"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
<li>Added test and correction for error where coordinates of under-constrained points were set to NaN for the first optimization run only, not all.</li>
<li>Added integrated support for setting antigen reactivity adjustments</li>
<li>Fixed error displaying bootstrap and triangulation blobs for maps that had been rotated</li>
<li>Bootstrap blobs will now show when doing a standard map plot</li>
<li>Added ability to control grid size when calculating bootstrap blobs, controlling how finely they are calculated</li>
<li>Added function <code>optimizeAgReactivityAdjustments()</code> for optimizing antigen reactivity adjustments</li>
<li>Added function <code><a href="../reference/agReactivityAdjustments.html">agReactivityAdjustments()</a></code> for getting and setting reactivity adjustments</li>
<li>Updated threejs library</li>
<li>Fixed bug where points were displayed in incorrect positions in the viewer when the webgl maximum point size had been reached</li>
<li>Added button to toggle point labels on and off</li>
<li>Fixed error where ace files with no plotspec field would not read in</li>
<li>Allow logical specification of antigens and sera for functions like <code><a href="../reference/removePoints.html">removeAntigens()</a></code>
</li>
<li>Check you do not try and remove all antigens or sera</li>
<li>Added option to show map stress in plot</li>
<li>Added ability to relax map points directly from the javascript viewer</li>
<li>Added the function <code><a href="../reference/mapGadget.html">mapGadget()</a></code> for opening up a map object in the GUI</li>
<li>Fix error causing 3d arrows to not display</li>
<li>Update the way point stress and residual is calculated for the stress and residual error table</li>
<li>Added option to plot.acmap to indicate points outside of plot limits with an arrow</li>
<li>Fixed error when performing dimensional annealing</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.12" id="racmacs-1112">Racmacs 1.1.12<a class="anchor" aria-label="anchor" href="#racmacs-1112"></a></h2>
<ul><li>Fix error in Racmacs when calculating antigen and sera mean stress per titer</li>
<li>Fix error in viewer code when accounting for antigen reactivity adjustments in stress calculations</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.13" id="racmacs-1113">Racmacs 1.1.13<a class="anchor" aria-label="anchor" href="#racmacs-1113"></a></h2>
<ul><li>Add option in <code><a href="../reference/plot.acmap.html">plot.acmap()</a></code> to draw stress lines</li>
<li>Add xlim and ylim options to <code><a href="../reference/view.acmap.html">view.acmap()</a></code> to control how maps are displayed</li>
<li>Add check to procrustes that there are sufficient matching points</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.14" id="racmacs-1114">Racmacs 1.1.14<a class="anchor" aria-label="anchor" href="#racmacs-1114"></a></h2>
<ul><li>Add option to save map in uncompressed format</li>
<li>Add option to output json in pretty format</li>
<li>Set default grid margin color to slightly darker than the grid color</li>
<li>Correct error showing column bases in the viewer</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.15" id="racmacs-1115">Racmacs 1.1.15<a class="anchor" aria-label="anchor" href="#racmacs-1115"></a></h2>
<ul><li>Add option to set <code><a href="../reference/dilutionStepsize.html">dilutionStepsize()</a></code> for cases where dilution series did not follow 2-fold dilution steps</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.16" id="racmacs-1116">Racmacs 1.1.16<a class="anchor" aria-label="anchor" href="#racmacs-1116"></a></h2>
<ul><li>Fix error when minimum column basis is set to higher than any measurable titer</li>
<li>Points not included in a procrustes will now be faded out when plotted with <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, similar to the behaviour already implemented in the <code><a href="../reference/view.html">view()</a></code> function.</li>
<li>Added the ability to set merge options when merging maps, controlling for example how much standard deviation there has to be between merged titers before the merged titer gets excluded as unreliable.</li>
<li>Added <code><a href="../reference/mergeReport.html">mergeReport()</a></code> and <code><a href="../reference/htmlMergeReport.html">htmlMergeReport()</a></code> to output formatted tables showing how different titers have been merged in a merged map.</li>
<li>Functions like <code><a href="../reference/logtiterTable.html">logtiterTable()</a></code> and <code><a href="../reference/mergeMaps.html">mergeMaps()</a></code> now take account of the dilutionStepsize map setting</li>
<li>Implement a new titer type ‘.’, like ’*’ but to represent titers that are missing as a result of antigen sera combinations not being present in merged tables</li>
<li>Fix error calculating bootstrap blobs and showing from a bootstrapped map where “resample” method was used</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.17" id="racmacs-1117">Racmacs 1.1.17<a class="anchor" aria-label="anchor" href="#racmacs-1117"></a></h2>
<ul><li>Added <code><a href="../reference/htmlMergeReport.html">htmlMergeReport()</a></code> showing how titers were merged as a formatted html table.</li>
<li>Added <code><a href="../reference/htmlTiterTable.html">htmlTiterTable()</a></code> for visualizing an html formatted titer table</li>
<li>Added functions for getting titers after applying antigen reactivity adjustments set with <code>agReactivityAdjustments()&lt;-</code>, namely <code><a href="../reference/adjustedTiterTable.html">adjustedTiterTable()</a></code>, <code><a href="../reference/adjustedLogTiterTable.html">adjustedLogTiterTable()</a></code>, <code><a href="../reference/htmlAdjustedTiterTable.html">htmlAdjustedTiterTable()</a></code>
</li>
<li>Details are no longer saved in map json if they are map defaults</li>
<li>Added an option to round titers to the nearest unit when outputting (for e.g. listmds compatibility)</li>
<li>Adds the ability to apply and set scaling on an optimization</li>
<li>Add option to optimize from scratch when performing optimizeAgReactivity</li>
<li>Fix an error when performing procrustes with some coordinates set to NA</li>
<li>Fix an error where transforming na coordinates in the viewer would give a numeric value</li>
<li>Add an option to use arrowheads rather than arrows to show outlier points when plotting</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.18" id="racmacs-1118">Racmacs 1.1.18<a class="anchor" aria-label="anchor" href="#racmacs-1118"></a></h2>
<ul><li>Add option to edit titers in the titer table view and fix previous error that had been introduced stopping the table view</li>
<li>Fix the map viewer stress calculations to account for the new “dilution stepsize” setting</li>
<li>Add option to get and set antigen reactivity in the viewer</li>
<li>Fix an error that was causing NAs to appear in transformed coordinates in linux builds</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.19" id="racmacs-1119">Racmacs 1.1.19<a class="anchor" aria-label="anchor" href="#racmacs-1119"></a></h2>
<ul><li>Add option to <code><a href="../reference/procrustesData.html">procrustesData()</a></code> to included only specific antigens or sera, as can already be done for <code><a href="../reference/procrustesMap.html">procrustesMap()</a></code>
</li>
<li>Add methods to calculate point leverage, the effect of removing different strains and sera from the map, <code><a href="../reference/ptLeverage.html">agLeverage()</a></code>, <code><a href="../reference/ptLeverage.html">srLeverage()</a></code>, <code><a href="../reference/ptLeverage.html">titerLeverage()</a></code>
</li>
<li>Change the <code><a href="../reference/view.acmap.html">view.acmap()</a></code> method to allow for an option <code>num_optimizations</code> to specify how many optimizations to send to the viewer.</li>
<li>Add an option for and basic check by default for convergence of solutions when running map optimizations.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.20" id="racmacs-1120">Racmacs 1.1.20<a class="anchor" aria-label="anchor" href="#racmacs-1120"></a></h2>
<ul><li>Slight re-implementation of dimensional annealing to not report progress bar multiple times.</li>
<li>Added ability to include and exclude antigens and sera when optimizing in the javascript viewer by alt clicking the name in the browser or the titer in the interactive titer table.</li>
<li>Added ability in the javascript viewer to change the antigen reactivity adjustment by selecting the antigen and editing the value as it appears in the <code>diagnostics</code> tab.</li>
<li>Use quicker algorithm for calculating 2d density blobs</li>
<li>Dimension testing now calculates proportion of titers to exclude as test set as proportion of measured titers, not proportion of detectable titers.</li>
<li>Fixes an error when only one blob would be displayed in the viewer in cases where more than one blob was associated with a point</li>
<li>Speed improvements to the calculation of contour blobs from point densities in 2-dimensions</li>
<li>Added the option to set a description field for the map with the <code><a href="../reference/mapDescription.html">mapDescription()</a></code> function</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.21" id="racmacs-1121">Racmacs 1.1.21<a class="anchor" aria-label="anchor" href="#racmacs-1121"></a></h2>
<ul><li>Full precision used in rapidjson when parsing doubles to load and save maps</li>
<li>Added <code><a href="../reference/acmapAttributes.html">numSeraGroups()</a></code> function</li>
<li>Added “extra” field for antigens and sera, and corresponding <code><a href="../reference/agAttributes.html">agExtra()</a></code> and <code><a href="../reference/srAttributes.html">srExtra()</a></code> functions</li>
<li>Antigen and serum groups will now be maintained and merged when running <code><a href="../reference/mergeMaps.html">mergeMaps()</a></code>
</li>
<li>Where maps have shared <code><a href="../reference/dilutionStepsize.html">dilutionStepsize()</a></code> settings, this will be applied to the merged map. Alternatively a warning will be issued and a default setting of 1 applied where they have different <code><a href="../reference/dilutionStepsize.html">dilutionStepsize()</a></code> settings.</li>
<li>Add attribute getter <code><a href="../reference/acmapAttributes.html">numLayers()</a></code> for returning the number of titer table layers in a map.</li>
<li>
<code>titerTable()&lt;-</code> will now throw an error if the titer table applied does not have the same dimensions as the map in terms of number of antigens and sera</li>
<li>When maps are merged the <code>mapName</code> will be used to name the titer table layers, layer names can also be get and set directly using the new <code><a href="../reference/layerNames.html">layerNames()</a></code> function</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.22" id="racmacs-1122">Racmacs 1.1.22<a class="anchor" aria-label="anchor" href="#racmacs-1122"></a></h2>
<ul><li>
<code>agReactivityAdjustments</code> now becomes a property of the base acmap object rather than individual optimization runs</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.23" id="racmacs-1123">Racmacs 1.1.23<a class="anchor" aria-label="anchor" href="#racmacs-1123"></a></h2>
<ul><li>Fix <code><a href="../reference/subsetMap.html">subsetMap()</a></code> to also subset ag reactivity adjustments!</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.24" id="racmacs-1124">Racmacs 1.1.24<a class="anchor" aria-label="anchor" href="#racmacs-1124"></a></h2>
<ul><li>Regions outside of plot border will now be masked when running <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> on a map</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.25" id="racmacs-1125">Racmacs 1.1.25<a class="anchor" aria-label="anchor" href="#racmacs-1125"></a></h2>
<ul><li>Throw an error instead of crashing when trying to do procrustes on maps with duplicate antigen/sera names/ids</li>
<li>Add option to extend density blobs for e.g. bootstrapBlobs to extend beyond the range of the actual coordinates.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.26" id="racmacs-1126">Racmacs 1.1.26<a class="anchor" aria-label="anchor" href="#racmacs-1126"></a></h2>
<ul><li>Add option to select the algorithm MASS::kde2d or ks::kde for calculating 2D density blobs.</li>
<li>Add functions to help plot and inspect bootstrap blobs, <code><a href="../reference/ptBootstrapBlob.html">agBootstrapBlob()</a></code>, <code><a href="../reference/ptBootstrapBlob.html">srBootstrapBlob()</a></code>, <code><a href="../reference/ptBootstrapCoords.html">agBootstrapCoords()</a></code>, <code><a href="../reference/ptBootstrapCoords.html">srBootstrapCoords()</a></code>, <code><a href="../reference/blob.html">blob()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.27" id="racmacs-1127">Racmacs 1.1.27<a class="anchor" aria-label="anchor" href="#racmacs-1127"></a></h2>
<ul><li>
<code><a href="../reference/logtiterTable.html">logtiterTable()</a></code> nows returns a table with named columns and rows</li>
<li>Fix issue showing individual bootstrap points in 3D</li>
<li>Add option <code>show_group_legend</code> to <code><a href="../reference/view.html">view()</a></code> to show interactive legend based on <code><a href="../reference/agGroups.html">agGroups()</a></code> and <code><a href="../reference/srGroups.html">srGroups()</a></code> point groupings</li>
<li>Add ability in viewer to filter and color antigens and sera by group</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sam Wilks.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

