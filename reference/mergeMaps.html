<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Merging maps — mergeMaps • Racmacs</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Merging maps — mergeMaps"><meta property="og:description" content="Functions to merge together two tables or maps."><meta property="og:image" content="https://acorg.github.io/Racmacs/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Racmacs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.34</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/acorg/Racmacs/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Merging maps</h1>
    <small class="dont-index">Source: <a href="https://github.com/acorg/Racmacs/blob/HEAD/R/map_merge.R" class="external-link"><code>R/map_merge.R</code></a></small>
    <div class="hidden name"><code>mergeMaps.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions to merge together two tables or maps.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">mergeMaps</span><span class="op">(</span>
  <span class="va">...</span>,
  method <span class="op">=</span> <span class="st">"table"</span>,
  <span class="va">number_of_dimensions</span>,
  <span class="va">number_of_optimizations</span>,
  minimum_column_basis <span class="op">=</span> <span class="st">"none"</span>,
  optimizer_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  merge_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p>acmaps to merge provided as either a list, or a series of separate arguments</p></dd>
<dt>method</dt>
<dd><p>The merge method to use, see details.</p></dd>
<dt>number_of_dimensions</dt>
<dd><p>For merging that generates new optimization runs,
the number of dimensions.</p></dd>
<dt>number_of_optimizations</dt>
<dd><p>For merging that generates new optimization
runs, the number of optimization runs to do.</p></dd>
<dt>minimum_column_basis</dt>
<dd><p>For merging that generates new optimization runs,
the minimum column basis to use.</p></dd>
<dt>optimizer_options</dt>
<dd><p>For merging that generates new optimization runs, optimizer
settings (see <code><a href="RacOptimizer.options.html">RacOptimizer.options()</a></code>).</p></dd>
<dt>merge_options</dt>
<dd><p>Options to use when merging titers (see <code><a href="RacMerge.options.html">RacMerge.options()</a></code>).</p></dd>
<dt>verbose</dt>
<dd><p>Should progress messages be output?</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns the merged map object</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Maps can be merged in a number of ways depending upon the desired
result.</p>
<div class="section">
<h3 id="method-table-">Method 'table'<a class="anchor" aria-label="anchor" href="#method-table-"></a></h3>
<p>As you would expect, this merges the tables of
the two maps but does not attempt to create any new optimizations and any
existing optimizations are lost.</p>
</div>

<div class="section">
<h3 id="method-reoptimized-merge-">Method 'reoptimized-merge'<a class="anchor" aria-label="anchor" href="#method-reoptimized-merge-"></a></h3>
<p>This merges the tables and then
does a specified number of fresh optimizations from random starting
coordinates, ignoring any pre-existing optimization runs. It's exactly the
same as doing a 'table' merge and running <code><a href="optimizeMap.html">optimizeMap()</a></code> on the merged
table.</p>
</div>

<div class="section">
<h3 id="method-incremental-merge-">Method 'incremental-merge'<a class="anchor" aria-label="anchor" href="#method-incremental-merge-"></a></h3>
<p>This takes the currently selected
optimization in the first map and then merges in the additional maps in
turn. Each time any points not already found in the first map (or the last
map in the incremental merge chain) are randomised and everything is
relaxed, this is repeated the specified number of times and the process is
repeated.</p>
</div>

<div class="section">
<h3 id="method-frozen-overlay-">Method 'frozen-overlay'<a class="anchor" aria-label="anchor" href="#method-frozen-overlay-"></a></h3>
<p>This fixes the positions of points in
each map and tries to best match them simply through re-orientation. Once
the best re-orientation is found, points that are in common between the
maps are moved to the average position.</p>
</div>

<div class="section">
<h3 id="method-relaxed-overlay-">Method 'relaxed-overlay'<a class="anchor" aria-label="anchor" href="#method-relaxed-overlay-"></a></h3>
<p>This is the same as the
frozen-overlay but points in the resulting map are then allowed to relax.</p>
</div>

<div class="section">
<h3 id="method-frozen-merge-">Method 'frozen-merge'<a class="anchor" aria-label="anchor" href="#method-frozen-merge-"></a></h3>
<p>In this version, positions of all
points in the first map are fixed and remain fixed, so the original map
does not change. The second map is then realigned to the first as closely
as possible and then all the new points appearing in the second map are
allowed to relax into their new positions. This is a way to merge in new
antigens and sera into a map without affecting the first one at all (and
was first implemented in lisp).</p>
</div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other map merging functions: 
<code><a href="RacMerge.options.html">RacMerge.options</a>()</code>,
<code><a href="htmlMergeReport.html">htmlMergeReport</a>()</code>,
<code><a href="mergeReport.html">mergeReport</a>()</code>,
<code><a href="splitTiterLayers.html">splitTiterLayers</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sam Wilks.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

